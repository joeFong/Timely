-- MySQL Script generated by MySQL Workbench
-- Wed Mar  1 21:40:44 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';



-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema Timely
-- -----------------------------------------------------

CREATE DATABASE IF NOT EXISTS `Timely` DEFAULT CHARACTER SET utf8 ;
USE `Timely` ;

GRANT ALL PRIVILEGES ON `Timely`.* TO admin@localhost IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON `Timely`.* TO admin@'%' IDENTIFIED BY 'password';


DROP TABLE IF EXISTS Emptitle;
DROP TABLE IF EXISTS Tsrow;
DROP TABLE IF EXISTS Timesheet;
DROP TABLE IF EXISTS Empwp;
DROP TABLE IF EXISTS Empproj;
DROP TABLE IF EXISTS Wplab;
DROP TABLE IF EXISTS Wpstarep;
DROP TABLE IF EXISTS Workpack;
DROP TABLE IF EXISTS Project;
DROP TABLE IF EXISTS Employee;
DROP TABLE IF EXISTS Title;
DROP TABLE IF EXISTS Labgrd;


-- -----------------------------------------------------
-- Schema Timely
-- -----------------------------------------------------


-- -----------------------------------------------------
-- 01. Table `Timely`.`Labgrd`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Labgrd` (
  `lgID` VARCHAR(2) NOT NULL COMMENT 'Labour Grade ID ex)JS, P1, P2',
  `lgRate` DECIMAL(6,2) NOT NULL COMMENT 'Labour Grade Rate; wage per hour',
  `lgDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag',
  `lgInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `lgUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`lgID`)
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'Labour Grade';


-- -----------------------------------------------------
-- 02. Table `Timely`.`Employee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Employee` (
  `empID` INT(6) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT COMMENT 'Employee ID',
  `empPw` VARCHAR(16) NOT NULL COMMENT 'Password',
  `empFnm` VARCHAR(32) NOT NULL COMMENT 'First Name',
  `empLnm` VARCHAR(32) NOT NULL COMMENT 'Last Name',
  `empDept` VARCHAR(16) NULL DEFAULT NULL COMMENT 'Department',
  `empSig` VARCHAR(128) NULL DEFAULT NULL COMMENT 'Signature; file path of signature image',
  `empFlxTm` DECIMAL(6,2) NULL DEFAULT '0.00' COMMENT 'Flex Time; hours',
  `empLabGrd` VARCHAR(2) NULL DEFAULT NULL COMMENT 'Labour Grade ID; JS, P1, P2...',
  `empSupID` INT(6) UNSIGNED ZEROFILL NULL DEFAULT NULL COMMENT 'Superior ID',
  `empDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag; 1=delete, 0=no delete',
  `empInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `empUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  `empLastVisitedWeekReport` VARCHAR(32) NULL COMMENT 'Last visited Week Report',
  `empLastVisitedMonthReport` VARCHAR(32) NULL COMMENT 'Last visited Month Report',
  PRIMARY KEY (`empID`),
  CONSTRAINT `FK_EmpSupID`
    FOREIGN KEY (`empSupID`)
    REFERENCES `Timely`.`Employee` (`empID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `FK_empLabGrd`
    FOREIGN KEY (`empLabGrd`)
    REFERENCES `Timely`.`Labgrd` (`lgID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'EMPLOYEE';


-- -----------------------------------------------------
-- 03. Table `Timely`.`Title`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Title` (
  `titID` SMALLINT(3) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT COMMENT 'Title ID',
  `titNm` VARCHAR(32) NOT NULL COMMENT 'Title Name; supervisor, project manager',
  `titDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag',
  `titInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `titUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`titID`)
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'TITLE';


-- -----------------------------------------------------
-- 04. Table `Timely`.`Emptitle`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Emptitle` (
  `etEmpID` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Employee ID',
  `etTitID` SMALLINT(3) UNSIGNED ZEROFILL NOT NULL COMMENT 'Title ID',
  `etDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag',
  `etInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `etUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`etEmpID`, `etTitID`),
  CONSTRAINT `FK_etEmpID`
    FOREIGN KEY (`etEmpID`)
    REFERENCES `Timely`.`Employee` (`empID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `FK_etTitID`
    FOREIGN KEY (`etTitID`)
    REFERENCES `Timely`.`Title` (`titID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'EMPLOYEE TITLE';


-- -----------------------------------------------------
-- 05. Table `Timely`.`Project`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Project` (
  `projNo` INT(6) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT COMMENT 'Project Number',
  `projNm` VARCHAR(64) NOT NULL COMMENT 'Project Name',
  `projMan` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Project Manager Employee ID',
  `projDesc` VARCHAR(255) NULL DEFAULT NULL COMMENT 'Project Description',
  `projStaDt` DATE NULL DEFAULT NULL COMMENT 'Project Start Date',
  `projEndDt` DATE NULL DEFAULT NULL COMMENT 'Project End Date',
  `projStatus` SMALLINT(1) UNSIGNED NOT NULL DEFAULT '0' COMMENT 'Project Status (open=0 or close=1)',
  `projDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag',
  `projInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `projUdDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`projNo`)
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'PROJECT';


-- -----------------------------------------------------
-- 06. Table `Timely`.`Workpack`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Workpack` (
  `wpProjNo` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Project Number',
  `wpNo` VARCHAR(6) NOT NULL DEFAULT '__NULL' COMMENT 'Work Package Number',
  `wpNm` VARCHAR(64) NOT NULL COMMENT 'Work Package Name',
  `wpDesc` VARCHAR(255) NULL DEFAULT NULL COMMENT 'Work Package Description',
  `wpResEng` INT(6) UNSIGNED ZEROFILL NULL DEFAULT NULL COMMENT 'Responsible Engineer ID',
  `wpStatus` SMALLINT(1) NULL DEFAULT '0' COMMENT 'WP status; 1 = closed, 0 = created, 2 = planned, 3 = open, 4 = complete ',
  `wpStaDt` DATE NULL DEFAULT NULL COMMENT 'WP Start Date',
  `wpEndDt` DATE NULL DEFAULT NULL COMMENT 'WP End Date',
  `wpDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag',
  `wpInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `wpUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`wpProjNo`, `wpNo`),
  CONSTRAINT `FK_wpProjNo`
    FOREIGN KEY (`wpProjNo`)
    REFERENCES `Timely`.`Project` (`projNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'WORK PACKAGE';


-- -----------------------------------------------------
-- 07. Table `Timely`.`EmpProj`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Empproj` (
  `epEmpId` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Employee ID ',
  `epProjNo` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Project No',
  `epAssDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Assigned Date Time',
  `epDel` SMALLINT(1) NOT NULL DEFAULT 0 COMMENT 'Delete Flag',
  `epInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date Time',
  `epUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date Time\n',
  PRIMARY KEY (`epEmpId`, `epProjNo`),
  CONSTRAINT `fk_EmpProj_Employee1`
    FOREIGN KEY (`epEmpId`)
    REFERENCES `Timely`.`Employee` (`empID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_EmpProj_Project1`
    FOREIGN KEY (`epProjNo`)
    REFERENCES `Timely`.`Project` (`projNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'The associated table between Employee and Project';


-- -----------------------------------------------------
-- 08. Table `Timely`.`Empwp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Empwp` (
  `ewEmpId` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Employee ID',
  `ewProjNo` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Project Number',
  `ewWpNo` VARCHAR(6) NOT NULL COMMENT 'Work Package Number',
  `ewAssDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Assigned Date',
  `ewEstHrs` DECIMAL(6,2) NULL DEFAULT '0.00' COMMENT 'Estimated hours to finish this job',
  `ewDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag',
  `ewInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `ewUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`ewEmpId`, `ewProjNo`, `ewWpNo`),
  CONSTRAINT `fk_Empwp_EmpProj1`
    FOREIGN KEY (`ewEmpId`, `ewProjNo`)
    REFERENCES `Timely`.`Empproj` (`epEmpId`, `epProjNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `FK_ewWpKey`
    FOREIGN KEY (`ewProjNo` , `ewWpNo`)
    REFERENCES `Timely`.`Workpack` (`wpProjNo` , `wpNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'Employee Work Package';


-- -----------------------------------------------------
-- 09. Table `Timely`.`Timesheet`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Timesheet` (
  `tsEmpID` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Employee ID',
  `tsWkEnd` VARCHAR(8) NOT NULL COMMENT 'Week End (YYYYMMDD)',
  `tsTotal` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Total hours',
  `tsOverTm` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Over Time(hours)',
  `tsFlexTm` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Flex Time(hours)',
  `tsSignDt` DATETIME NULL DEFAULT NULL COMMENT 'Signed Date or Submit Date',
  `tsSubmit` SMALLINT(1) NULL DEFAULT '0' COMMENT 'Submit Flag(def=0, submitted=1)',
  `tsPayGrade` VARCHAR(2) NULL DEFAULT NULL COMMENT 'The Payment Grade when submitting',
  `tsApprDt` DATETIME NULL DEFAULT NULL COMMENT 'Approve Date',
  `tsApprID` INT(6) UNSIGNED ZEROFILL NULL DEFAULT NULL COMMENT 'Approve Employee ID',
  `tsDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag(def=0)',
  `tsInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `tsUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`tsEmpID`, `tsWkEnd`),
  CONSTRAINT `FK_tsEmpID`
    FOREIGN KEY (`tsEmpID`)
    REFERENCES `Timely`.`Employee` (`empID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'TIMESHEET';


-- -----------------------------------------------------
-- 10. Table `Timely`.`Tsrow`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Tsrow` (
  `tsr_id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Table ID',
  `tsrEmpID` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Employee ID',
  `tsrWkEnd` VARCHAR(8) NOT NULL COMMENT 'Week End (YYYYMMDD)',
  `tsrProjNo` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Project Number',
  `tsrWpNo` VARCHAR(6) NOT NULL COMMENT 'Work Package Number',
  `tsrSat` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Saturday Hours',
  `tsrSun` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Sunday Hours',
  `tsrMon` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Monday Hours',
  `tsrTue` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Tuesday Hours',
  `tsrWed` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Wednseday Hours',
  `tsrThu` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Thursday Hours',
  `tsrFri` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Friday Hours',
  `tsrOt` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Overtime',
  `tsrNote` VARCHAR(255) NULL DEFAULT NULL COMMENT 'Notes',
  `tsrDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Delete Flag(def=0)',
  `tsrInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `tsrUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`tsr_id`),
  UNIQUE INDEX `idx_tsrEmpID` (`tsrEmpID` ASC, `tsrWkEnd` ASC, `tsrProjNo` ASC, `tsrWpNo` ASC),
  CONSTRAINT `FK_tsrTSKey`
    FOREIGN KEY (`tsrEmpID` , `tsrWkEnd`)
    REFERENCES `Timely`.`Timesheet` (`tsEmpID` , `tsWkEnd`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `FK_tsrWpKey`
    FOREIGN KEY (`tsrProjNo` , `tsrWpNo`)
    REFERENCES `Timely`.`Workpack` (`wpProjNo` , `wpNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'Timesheet Row';


-- -----------------------------------------------------
-- 11. Table `Timely`.`Wpstarep`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Wpstarep` (
  `wsr_id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `wsrProjNo` INT(6) UNSIGNED ZEROFILL NOT NULL,
  `wsrWpNo` VARCHAR(6) NOT NULL COMMENT 'Work Package Number',
  `wsrRepDt` VARCHAR(8) NULL DEFAULT NULL COMMENT 'Report Date; Submit Date(YYYYMMDD)',
  `wsrWriter` INT(6) UNSIGNED ZEROFILL NULL DEFAULT NULL COMMENT 'Reporter ID; Usually Responsible Engineer',
  `wsrProgLW` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Progress Last Week(%)',
  `wsrProbLW` VARCHAR(255) NULL DEFAULT NULL COMMENT 'Problem Last Week',
  `wsrProgNW` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Progress Next Week (%)',
  `wsrProbNW` VARCHAR(255) NULL DEFAULT NULL COMMENT 'Problme Next Week',
  `wsrEstWRH` DECIMAL(6,2) NULL DEFAULT NULL COMMENT 'Estimated amount of remaining work-hours',
  `wsrEstDes` VARCHAR(255) NULL DEFAULT NULL COMMENT 'Estimated amount of remaining work description',
  `wsrSubmit` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Submit Flag (def=0, 1=submited)',
  `wsrDel` SMALLINT(1) NOT NULL DEFAULT '0' COMMENT 'Del Flag',
  `wsrInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Insert Date',
  `wsrUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Update Date',
  PRIMARY KEY (`wsr_id`),
  CONSTRAINT `FK_wsrWpKey`
    FOREIGN KEY (`wsrProjNo` , `wsrWpNo`)
    REFERENCES `Timely`.`Workpack` (`wpProjNo` , `wpNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'Work Package Status Report';


-- -----------------------------------------------------
-- 12. Table `Timely`.`WpLab`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Timely`.`Wplab` (
  `wlProjNo` INT(6) UNSIGNED ZEROFILL NOT NULL COMMENT 'Project No of Work package Key',
  `wlWpNo` VARCHAR(6) NOT NULL COMMENT 'Work package no of work package key',
  `wlLgId` VARCHAR(2) NOT NULL COMMENT 'Labour Grade ID',
  `wlPlanHrs` DECIMAL(6,2) NULL DEFAULT 0.0 COMMENT 'Plan hours of Labour grade for the work package',
  `wlDel` SMALLINT(1) NOT NULL DEFAULT 0,
  `wlInsDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `wlUpDt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`wlProjNo`, `wlWpNo`, `wlLgId`),
  CONSTRAINT `fk_WpLab_Wkpkg1`
    FOREIGN KEY (`wlProjNo` , `wlWpNo`)
    REFERENCES `Timely`.`Workpack` (`wpProjNo` , `wpNo`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_WpLab_Labgrd1`
    FOREIGN KEY (`wlLgId`)
    REFERENCES `Timely`.`Labgrd` (`lgID`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE
  )
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'The association table between Work Package and Labour grade';


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


-- ----------------------------------------------------------------------------
-- Following scripts for seed data
-- ----------------------------------------------------------------------------

ALTER TABLE Employee AUTO_INCREMENT = 100001;
ALTER TABLE Project AUTO_INCREMENT = 111111;

INSERT INTO Labgrd (lgid, lgrate) VALUES ('JS', 55);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('DS', 97);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('SS', 107);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('P1', 115);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('P2', 147);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('P3', 179);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('P4', 225);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('P5', 266);
INSERT INTO Labgrd (lgid, lgrate) VALUES ('P6', 322);

INSERT INTO Employee (empID, empPw, empFnm, empLnm, empDept) 
VALUES (000001, 'Comp@4911', 'Database', 'Admin', 'IS');
INSERT INTO Employee (empID, empPw, empFnm, empLnm, empDept) 
VALUES (000002, 'Comp@4911', 'HR', 'Admin', 'HR');
INSERT INTO Employee (empPw, empFnm, empLnm, empDept, empLabGrd, empLastVisitedWeekReport, empLastVisitedMonthReport) 
VALUES ('Comp@4911', 'Cam', 'Newton', 'IS', 'P6', '20170331','201704');
INSERT INTO Employee (empPw, empFnm, empLnm, empDept, empLabGrd) 
VALUES ('Comp@4911', 'Tony', 'Romo', 'IS', 'P6');
INSERT INTO Employee (empPw, empFnm, empLnm, empDept, empLabGrd) 
VALUES ('Comp@4911', 'Andy', 'Dalton', 'IS', 'P5');
INSERT INTO Employee (empPw, empFnm, empLnm, empDept, empLabGrd) 
VALUES ('Comp@4911', 'Eli', 'Manning', 'IS', 'P4'),
       ('Comp@4911', 'Donal', 'Duck', 'IS', 'DS'),
       ('Comp@4911', 'Joy', 'Nelson', 'IS', 'P2'),
       ('Comp@4911', 'Michell', 'Pinoche', 'IS', 'SS'),
       ('Comp@4911', 'Hue', 'Grant', 'IS', 'P1'),
       ('Comp@4911', 'Stephen', 'Curry', 'IS', 'P3'),
       ('Comp@4911', 'Russell', 'Wilson', 'IS', 'P6'),
       ('Comp@4911', 'Carson', 'Palmer', 'IS', 'P5'),
       ('Comp@4911', 'Drew', 'Brees', 'IS', 'P3'),
       ('Comp@4911', 'Matt', 'Ryan', 'IS', 'P2'),
       ('Comp@4911', 'Andrew', 'Luck', 'IS', 'P1'),
       ('Comp@4911', 'Derek', 'Carr', 'IS', 'P1'),
       ('Comp@4911', 'Philip', 'Rivers', 'IS', 'P2'),
       ('Comp@4911', 'Kirk', 'Cousins', 'IS', 'P2'),
       ('Comp@4911', 'Matthew', 'Stafford', 'IS', 'P3');

INSERT INTO Title (titNm) VALUES ('Supervisor');
INSERT INTO Title (titNm) VALUES ('Project Manager');
INSERT INTO Title (titNm) VALUES ('Responsible Engineer');
INSERT INTO Title (titNm) VALUES ('Line Manager');
INSERT INTO Title (titNm) VALUES ('Employee Manager');
INSERT INTO Title (titNm) VALUES ('Timesheet Approver');

INSERT INTO Emptitle (etempid, etTitID) 
VALUES (100007, 001), 
	   (100008, 001),
       (100005, 006), 
       (100012, 006),
       (100013, 006),
       (100001, 002),
       (100002, 003),
       (100003, 003);

INSERT INTO Project (projNo, projNm, projDesc, projMan, projStaDt, projEndDt) 
VALUES 
(001111, 'personnel matters', 'personnel matters such as flex time, vacation, and sick', 000002, '2000-01-01', '9999-12-31');
INSERT INTO Project (projNm, projDesc, projMan, projStaDt, projEndDt)
VALUES
('COMP4911 Project', 'BCIT CST InfoSys course COMP4911 Project', 100001, '2017-01-09', '2017-04-28'),
('NLF New Generation System', 'The new generation system for NFL, which can efficiently manage the schedule of NFL game', 100010, '2017-02-20', '2017-08-31');

INSERT INTO Workpack (wpProjNo, wpNo, wpNm, wpDesc, wpResEng) 
VALUES (001111, '__SICK', 'WP_SICK', 'personnel matters; sick', 000002),
       (001111, '__FLEX', 'WP_FLEX', 'personnel matters; flex time', 000002),
       (001111, '__VACA', 'WP_VACA', 'personnel matters; vacation', 000002),
       (001111, '__APPR', 'WP_APPR', 'Regular work; Timesheet Approve', 000002),
       (001111, '__MEET', 'WP_MEET', 'Regular work; Meeting', 000002),
       (001111, '__EDUC', 'WP_EDUC', 'Occasional work; Education', 000002),
       (001111, '__TRIP', 'WP_TRIP', 'Occasional work; Business Trip', 000002);

INSERT INTO Workpack (wpProjNo, wpNo, wpNm, wpDesc, wpResEng) 
VALUES (111111, 'WP1111', 'Project set up', 'The initial work for project set up', 100002),
       (111111, 'WP1112', 'Ongoing Updading', 'The inital work updating', 100002),
       (111111, 'WP1113', 'Detailed planning', 'Detailed planning for project', 100002),
       (111111, 'WP1110', 'Schedule Effort', 'The initial schedule effort', 100002);

INSERT INTO Workpack (wpProjNo, wpNo, wpNm, wpDesc, wpResEng) 
VALUES (111111, 'WP1121', 'Design and Dev plan', 'Design and Development plan', 100003),
       (111111, 'WP1122', 'Verification plan', 'Rough Verification plan', 100003),
       (111111, 'WP1123', 'Integration plan', 'Initial Integration plan', 100003),
       (111111, 'WP1124', 'System test plan', 'Initial System test plan', 100003),
       (111111, 'WP1120', 'Planning Documents', 'Initial Planning Documents', 100003);

INSERT INTO Workpack (wpProjNo, wpNo, wpNm, wpDesc, wpResEng) 
VALUES (111112, 'WP1201', 'Requirement Spec', 'Requirement specification', 100011),
       (111112, 'WP1202', 'System Tech Desc', 'System Technical description', 100011),
       (111112, 'WP1203', 'KS Config Spec', 'Konica Standard config Specification', 100011),
       (111112, 'WP1204', 'System Design Manual', 'System design manual', 100011),
       (111112, 'WP1200', 'System Requirement Specs', 'System Requirement specifications', 100011);

INSERT INTO Workpack (wpProjNo, wpNo, wpNm, wpDesc, wpResEng) 
VALUES (111112, 'WP1401', 'Liaison subcont', 'Liaison company subcontracts', 100011);

INSERT INTO Workpack (wpProjNo, wpNo, wpNm, wpDesc, wpResEng) 
VALUES (111112, 'WP1511', 'Design Reviews1', 'Design Review with Customer', 100012),
       (111112, 'WP1512', 'Design Reviews2', 'Design Review internal', 100012),
       (111112, 'WP1510', 'Design Reviews', 'Design review internal and with Customer', 100012);

INSERT INTO Empproj (epEmpId, epProjNo)
VALUES (100001, 111111),
       (100002, 111111),
       (100003, 111111),
       (100004, 111111),
       (100005, 111111),
       (100006, 111111),
       (100013, 111111);

INSERT INTO Empproj (epEmpId, epProjNo)
VALUES (100010, 111112),
       (100011, 111112),
       (100012, 111112),
       (100013, 111112),
       (100005, 111112),
       (100006, 111112),
       (100015, 111112);

INSERT INTO Empwp (ewEmpId, ewProjNo, ewWpNo, ewAssDt)
VALUES (100001, 111111, 'WP1111', '2017-02-06'),
       (100002, 111111, 'WP1111', '2017-02-06'),
       (100003, 111111, 'WP1111', '2017-02-06'),
       (100002, 111111, 'WP1112', '2017-02-06'),
       (100003, 111111, 'WP1113', '2017-02-06'),
       (100002, 111111, 'WP1121', '2017-02-06'),
       (100003, 111111, 'WP1121', '2017-02-06'),
       (100003, 111111, 'WP1122', '2017-02-06'),
       (100013, 111111, 'WP1122', '2017-02-06'),
       (100004, 111111, 'WP1122', '2017-02-06'),
       (100004, 111111, 'WP1123', '2017-02-06'),
       (100005, 111111, 'WP1123', '2017-02-06');

INSERT INTO Wplab (wlProjNo, wlWpNo, wlLgId, wlPlanHrs)
VALUES (111112, 'WP1511', 'P5', 54.0),
       (111112, 'WP1512', 'P5', 78.0);

INSERT INTO Wplab (wlProjNo, wlWpNo, wlLgId, wlPlanHrs)
VALUES (111112, 'WP1201', 'P4', 60.0),
       (111112, 'WP1201', 'DS', 137.0),
       (111112, 'WP1202', 'P4', 30.0),
       (111112, 'WP1202', 'SS', 7.5);

INSERT INTO Timesheet (tsEmpID, tsWkEnd, tsTotal, tsOverTm, tsFlexTm, tsSignDt, tsSubmit, tsApprDt, tsApprID)
VALUES(100001, '20170210', 40.0, NULL, NULL, '2017-02-10 17:25:34', 1, '2017-02-14 09:11:23', 100013),
      (100002, '20170210', 40.0, NULL, NULL, '2017-02-10 17:33:11', 1, '2017-02-14 09:27:15', 100013),
      (100003, '20170210', 40.0, NULL, NULL, '2017-02-10 17:13:51', 1, '2017-02-14 09:57:11', 100013),
      (100004, '20170210', 40.0, NULL, NULL, '2017-02-10 17:27:48', 1, '2017-02-14 10:13:55', 100013),
      (100005, '20170210', 40.0, NULL, NULL, '2017-02-10 17:08:33', 1, '2017-02-14 10:37:42', 100013),
      (100013, '20170210', 40.0, NULL, NULL, '2017-02-10 17:22:43', 1, '2017-02-14 10:55:19', 100013);


INSERT INTO Tsrow (tsrEmpID, tsrWkEnd, tsrProjNo, tsrWpNo, 
    tsrSat, tsrSun, tsrMon, tsrTue, tsrWed, tsrThu, tsrFri, tsrNote)
VALUES (100001, '20170210', 111111, 'WP1111', NULL, NULL, 8.0, 8.0, 8.0, 8.0, 8.0, NULL),
       (100002, '20170210', 111111, 'WP1111', NULL, NULL, 4.0, 4.0, 4.0, 4.0, 4.0, NULL),
       (100002, '20170210', 111111, 'WP1112', NULL, NULL, 4.0, 4.0, 4.0, 4.0, 4.0, NULL),
       (100003, '20170210', 111111, 'WP1111', NULL, NULL, 2.0, 4.0, 3.0, 1.0, 1.0, NULL),
       (100003, '20170210', 111111, 'WP1113', NULL, NULL, 2.0, 2.0, 2.0, 4.0, 1.0, NULL),
       (100003, '20170210', 111111, 'WP1121', NULL, NULL, 3.0, 1.0, 2.0, 1.5, 4.0, NULL),
       (100003, '20170210', 111111, 'WP1122', NULL, NULL, 1.0, 1.0, 1.0, 1.5, 2.0, NULL),
       (100004, '20170210', 111111, 'WP1122', NULL, NULL, 4.0, 4.0, 6.0, 3.0, 4.0, NULL),
       (100004, '20170210', 111111, 'WP1123', NULL, NULL, 4.0, 4.0, 2.0, 5.0, 4.0, NULL),
       (100005, '20170210', 111111, 'WP1123', NULL, NULL, 8.0, 8.0, 8.0, 8.0, 8.0, NULL),
       (100013, '20170210', 111111, 'WP1122', NULL, NULL, 5.0, 8.0, 8.0, 8.0, 8.0, NULL),
       (100013, '20170210', 001111, '__APPR', NULL, NULL, 3.0, NULL, NULL,NULL, NULL, 'Timesheet Approving');
       
       
       -- DAVES SPECIAL SUACE
       
--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Project (projNm,projMan,projDesc,projStaDt,projEndDt)
VALUES ('Dunder Mifflin',100001,'Dunder Mifflin Paper','2017-02-15','2017-06-15') ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Empproj (epEmpId,epProjNo)
VALUES (100003,111113) ;
INSERT INTO Empproj (epEmpId,epProjNo)
VALUES (100002,111113) ;
INSERT INTO Empproj (epEmpId,epProjNo)
VALUES (100001,111113) ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Workpack (wpProjNo,wpNo,wpNm,wpDesc,wpResEng)
VALUES (111113,'A00000','Work Package 1','Description 1',100002) ;
INSERT INTO Workpack (wpProjNo,wpNo,wpNm,wpDesc,wpResEng)
VALUES (111113,'B00000','Work Package 2','Description 2',100003) ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Empwp (ewEmpId,ewProjNo,ewWpNo)
VALUES (100002,111113,'A00000') ;
INSERT INTO Empwp (ewEmpId,ewProjNo,ewWpNo)
VALUES (100002,111113,'B00000') ;
INSERT INTO Empwp (ewEmpId,ewProjNo,ewWpNo)
VALUES (100003,111113,'A00000') ;
INSERT INTO Empwp (ewEmpId,ewProjNo,ewWpNo)
VALUES (100003,111113,'B00000') ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Wpstarep (wsrProjNo,wsrWpNo,wsrRepDt,wsrEstDes)
VALUES (111113,'A00000','00000000','SS:50,P1:50,P2:50,P3:50,P4:50,P5:50,P6:50,JS:50,DS:50') ;
INSERT INTO Wpstarep (wsrProjNo,wsrWpNo,wsrRepDt,wsrEstDes)
VALUES (111113,'B00000','00000000','SS:50,P1:50,P2:50,P3:50,P4:50,P5:50,P6:50,JS:50,DS:50') ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','SS',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','P1',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','P2',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','P3',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','P4',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','P5',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','P6',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','JS',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'A00000','DS',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','SS',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','P1',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','P2',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','P3',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','P4',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','P5',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','P6',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','JS',50) ;
INSERT INTO Wplab (wlProjNo,wlWpNo,wlLgId,wlPlanHrs)
VALUES (111113,'B00000','DS',50) ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Timesheet (tsEmpID,tsWkEnd)
VALUES (100002,'20170331') ;
INSERT INTO Timesheet (tsEmpID,tsWkEnd)
VALUES (100002,'20170317') ;
INSERT INTO Timesheet (tsEmpID,tsWkEnd)
VALUES (100003,'20170331') ;
INSERT INTO Timesheet (tsEmpID,tsWkEnd)
VALUES (100003,'20170317') ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Tsrow (tsrEmpID,tsrWkEnd,tsrProjNo,tsrWpNo,tsrSat,tsrSun,tsrMon,tsrTue,tsrWed,tsrThu,tsrFri)
VALUES (100002,'20170331',111113,'A00000',0,0,4,4,4,4,4) ;
INSERT INTO Tsrow (tsrEmpID,tsrWkEnd,tsrProjNo,tsrWpNo,tsrSat,tsrSun,tsrMon,tsrTue,tsrWed,tsrThu,tsrFri)
VALUES (100002,'20170331',111113,'B00000',0,0,4,4,4,4,4) ;
INSERT INTO Tsrow (tsrEmpID,tsrWkEnd,tsrProjNo,tsrWpNo,tsrSat,tsrSun,tsrMon,tsrTue,tsrWed,tsrThu,tsrFri)
VALUES (100002,'20170317',111113,'A00000',0,0,8,8,8,8,8) ;
INSERT INTO Tsrow (tsrEmpID,tsrWkEnd,tsrProjNo,tsrWpNo,tsrSat,tsrSun,tsrMon,tsrTue,tsrWed,tsrThu,tsrFri)
VALUES (100003,'20170331',111113,'A00000',0,0,4,4,4,4,4) ;
INSERT INTO Tsrow (tsrEmpID,tsrWkEnd,tsrProjNo,tsrWpNo,tsrSat,tsrSun,tsrMon,tsrTue,tsrWed,tsrThu,tsrFri)
VALUES (100003,'20170331',111113,'B00000',0,0,4,4,4,4,4) ;
INSERT INTO Tsrow (tsrEmpID,tsrWkEnd,tsrProjNo,tsrWpNo,tsrSat,tsrSun,tsrMon,tsrTue,tsrWed,tsrThu,tsrFri)
VALUES (100003,'20170317',111113,'B00000',0,0,8,8,8,8,8) ;

--  Actual parameter values may differ, what you see is a default string representation of values
INSERT INTO Wpstarep (wsrProjNo,wsrWpNo,wsrRepDt,wsrWriter,wsrProbLW,wsrProbNW,wsrEstDes)
VALUES (111113,'A00000','20170317',100002,'No problems this week.','No anticipated problems.','SS:40,P1:40,P2:40,P3:40,P4:40,P5:40,P6:40,JS:40,DS:40') ;
INSERT INTO Wpstarep (wsrProjNo,wsrWpNo,wsrRepDt,wsrWriter,wsrProbLW,wsrProbNW,wsrEstDes)
VALUES (111113,'A00000','20170331',100002,'Many employees were sick.','Employee sickness.','SS:30,P1:30,P2:30,P3:30,P4:30,P5:30,P6:30,JS:30,DS:30') ;
INSERT INTO Wpstarep (wsrProjNo,wsrWpNo,wsrRepDt,wsrWriter,wsrProbLW,wsrProbNW,wsrEstDes)
VALUES (111113,'B00000','20170317',100003,'No problems this week.','No anticipated problems.','SS:40,P1:40,P2:40,P3:40,P4:40,P5:40,P6:40,JS:40,DS:40') ;
INSERT INTO Wpstarep (wsrProjNo,wsrWpNo,wsrRepDt,wsrWriter,wsrProbLW,wsrProbNW,wsrEstDes)
VALUES (111113,'B00000','20170331',100003,'Many employees were sick.','Employee sickness.','SS:30,P1:30,P2:30,P3:30,P4:30,P5:30,P6:30,JS:30,DS:30') ;




